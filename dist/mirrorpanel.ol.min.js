!function(t){var e={};function o(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=e,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(r,n,function(e){return t[e]}.bind(null,n));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=5)}([function(t,e){t.exports='<div id="div-contenedor" class="m-mirrorpanel-container">\r\n  <div id="m-mirrorpanel-titulo">{{translations.title}}</div>\r\n  <div class="div-m-mirrorpanel-panel">\r\n    <div class="m-mirrorpanel-effect-buttoms">\r\n      <button id="set-mirror-0" class="big-button" title="{{translations.modViz0}}"><i class="mirrorpanel-modeviz0"></i></button>\r\n      <button id="set-mirror-1" class="big-button" title="{{translations.modViz1}}"><i class="mirrorpanel-modeviz1"></i></button>\r\n      <button id="set-mirror-2" class="big-button" title="{{translations.modViz2}}"><i class="mirrorpanel-modeviz2"></i></button>\r\n      <button id="set-mirror-3" class="big-button" title="{{translations.modViz3}}"><i class="mirrorpanel-modeviz3"></i></button>\r\n      <button id="set-mirror-4" class="big-button" title="{{translations.modViz4}}"><i class="mirrorpanel-modeviz4"></i></button>\r\n    </div>\r\n    <div class="m-mirrorpanel-effect-buttoms">\r\n      <button id="set-mirror-5" class="big-button" title="{{translations.modViz5}}"><i class="mirrorpanel-modeviz5"></i></button>\r\n      <button id="set-mirror-6" class="big-button" title="{{translations.modViz6}}"><i class="mirrorpanel-modeviz6"></i></button>\r\n      <button id="set-mirror-7" class="big-button" title="{{translations.modViz7}}"><i class="mirrorpanel-modeviz7"></i></button>\r\n      <button id="set-mirror-8" class="big-button" title="{{translations.modViz8}}"><i class="mirrorpanel-modeviz8"></i></button>\r\n      <button id="set-mirror-9" class="big-button" title="{{translations.modViz9}}"><i class="mirrorpanel-modeviz9"></i></button>\r\n    </div>\r\n    \r\n  </div>\r\n\r\n</div>\r\n'},function(t){t.exports=JSON.parse('{"tooltip":"Mirror Comparison","title":"Mirror Maps","modViz0":"Standard map","modViz1":"Vertical two maps","modViz2":"Horizontal two maps","modViz3":"Vertical three maps","modViz4":"Vertical four maps","modViz5":"Mosaic maps","modViz6":"Horizontal four maps","modViz7":"Vertical 2-1-1 proportional maps","modViz8":"One map above and two below","modViz9":"Two maps above and one below"}')},function(t){t.exports=JSON.parse('{"tooltip":"Comparador de mapas espejo","title":"Mapas espejo","modViz0":"Mapa standard","modViz1":"Dos mapas en vertical","modViz2":"Dos mapas en horizontal","modViz3":"Tres mapas en vertical","modViz4":"Cuatro mapas en vertical","modViz5":"Mosaico de mapas","modViz6":"Cuatro mapas en horizontal","modViz7":"Tres mapas en proporción 2-1-1","modViz8":"Un mapa arriba y dos abajo","modViz9":"Dos mapas arriba y uno abajo"}')},function(t){t.exports=JSON.parse('{"url":{"name":"mirrorpanel","separator":"*!"},"constructor":"M.plugin.Mirrorpanel","parameters":[{"type":"object","properties":[{"type":"simple","name":"position","possibleValues":["TL","TR","BL","BR"],"position":0},{"type":"boolean","name":"collapsed","position":1},{"type":"boolean","name":"collapsible","position":2},{"type":"simple","name":"modeViz","position":3},{"type":"boolean","name":"enabledKeyFunctions","position":4},{"type":"boolean","name":"showCursors","position":5},{"type":"simple","name":"mirrorLayers","position":6},{"type":"simple","name":"defaultBaseLyrs","position":7},{"type":"boolean","name":"interface","position":8}]}],"files":{"ol":{"scripts":["mirrorpanel.ol.min.js"],"styles":["mirrorpanel.ol.min.css"]}},"metadata":{"uuid_plugin":"","uuid_version_plugin":"","version_ficha_metadatos":"","name":"Mirrorpanel","description":"Plugin que permite comparar varias capas dividiendo la pantalla en varias partes.","text":"Plugin que permite comparar varias capas dividiendo la pantalla en varias partes. Los mapas tienen sus vistas sincronizadas, y podemos ver la representación de una misma zona por distintas capas.","version":"1.0.0","date":"Julio, 2020","author":"","org":"","tags":"mapea,plugin","icon":"./facade/assets/icons/icons.svg","buttons":[{"title":"","description":"","querySelector":""},{"title":"","description":"","querySelector":""}],"dependencies":{"modules":["",""],"plugins":[{"uuid":"","name":""}],"services":[{"name":"","description":""}]}}}')},function(t,e,o){},function(t,e,o){"use strict";o.r(e);o(4);function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var o=0;o<e.length;o++){var r=e[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,o){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,o){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(r){var n=Object.getOwnPropertyDescriptor(r,e);return n.get?n.get.call(o):n.value}})(t,e,o||t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,r=c(t);if(e){var n=c(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return u(this,o)}}function u(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(p,M.impl.Control);var e,o,r,u=l(p);function p(){return n(this,p),u.apply(this,arguments)}return e=p,(o=[{key:"addTo",value:function(t,e){var o=this;t.getMapImpl().getInteractions().forEach((function(t){t instanceof ol.interaction.DoubleClickZoom&&(o.dblClickInteraction_=t)})),a(c(p.prototype),"addTo",this).call(this,t,e)}}])&&i(e.prototype,o),r&&i(e,r),p}(),m=o(0),d=o.n(m),f={en:o(1),es:o(2)},y=function(){var t="es";return"function"==typeof M.language.getLang&&(t=M.language.getLang()),t},h=function(t){return f[t]},b=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y(),o=h(e),r="";return M.utils.isNullOrEmpty(o)?console.warn("The translation '".concat(e,"' has not been defined.")):r=t.split(".").reduce((function(t,e){return t[e]}),o),r};function v(t){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t,e){for(var o=0;o<e.length;o++){var r=e[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function L(t,e,o){return(L="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,o){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=V(t)););return t}(t,e);if(r){var n=Object.getOwnPropertyDescriptor(r,e);return n.get?n.get.call(o):n.value}})(t,e,o||t)}function z(t,e){return(z=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function w(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,r=V(t);if(e){var n=V(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return C(this,o)}}function C(t,e){return!e||"object"!==v(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function V(t){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&z(t,e)}(i,M.Control);var e,o,r,n=w(i);function i(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),M.utils.isUndefined(p)&&M.exception("La implementación usada no puede crear controles MirrorpanelControl");var o=new p;return(e=n.call(this,o,"Mirrorpanel")).template=null,e.modeViz=t.modeViz,e.showCursors=t.showCursors,e.mapL={A:null,B:null,C:null,D:null},e.lyrCursor={A:null,B:null,C:null,D:null},e.featureLyrCursor={A:null,B:null,C:null,D:null},e.styleCursor=new M.style.Point({icon:{form:M.style.form.CIRCLE,fontsize:.5,radius:5,rotation:0,rotate:!1,offset:[0,0],color:"black",fill:"red",gradientcolor:"#088A85",opacity:.8}}),e.defaultBaseLyrs=t.defaultBaseLyrs,e.mirrorLayers=t.mirrorLayers,e.createMapContainers(),e}return e=i,(o=[{key:"createView",value:function(t){var e=this;return M.template.compileSync||(M.template.compileSync=function(t,e){var o,r={};M.utils.isUndefined(e)||(r=M.utils.extends(r,e.vars),o=e.parseToHtml);var n=Handlebars.compile(t)(r);return!1!==o?M.utils.stringToHtml(n):n}),this.mapL.A=t,this.showCursors&&this.addLayerCursor("A"),new Promise((function(t,o){var r;r={jsonp:!0,vars:{translations:{title:b("title"),modViz0:b("modViz0"),modViz1:b("modViz1"),modViz2:b("modViz2"),modViz3:b("modViz3"),modViz4:b("modViz4"),modViz5:b("modViz5"),modViz6:b("modViz6"),modViz7:b("modViz7"),modViz8:b("modViz8"),modViz9:b("modViz9")}}},e.template=M.template.compileSync(d.a,r),e.template.querySelectorAll('button[id^="set-mirror-"]').forEach((function(t,o){t.addEventListener("click",(function(t){e.manageVisionPanelByCSSGrid(o)}))})),e.manageVisionPanelByCSSGrid(e.modeViz),t(e.template)}))}},{key:"activate",value:function(){L(V(i.prototype),"activate",this).call(this)}},{key:"deactivate",value:function(){L(V(i.prototype),"deactivate",this).call(this)}},{key:"createMapContainers",value:function(){var t=document.createElement("div");t.id="lienzo",t.classList.add("mirrorpanel-grid");var e=document.getElementById("mapjs")||document.getElementById("map");document.body.insertBefore(t,e),e.classList.add("mirror1"),t.appendChild(e);var o=document.createElement("div");o.id="mapjsB",o.classList.add("mirror2"),t.appendChild(o);var r=document.createElement("div");r.id="mapjsC",r.classList.add("mirror3"),t.appendChild(r);var n=document.createElement("div");n.id="mapjsD",n.classList.add("mirror4"),t.appendChild(n)}},{key:"manageVisionPanelByCSSGrid",value:function(t){var e=this.modeViz;(document.getElementById("mapjs")||document.getElementById("map")).style.display="none",document.getElementById("mapjsB").style.display="none",document.getElementById("mapjsC").style.display="none",document.getElementById("mapjsD").style.display="none",this.template.querySelector("#set-mirror-"+e).classList.remove("buttom-pressed");for(var o=0;o<10;o++)document.getElementById("lienzo").classList.remove("modeViz"+o);document.getElementById("lienzo").classList.add("modeViz"+t),[1,2].includes(t)&&null==this.mapL.B&&this.createMapObjects("B"),[3,7,8,9].includes(t)&&(null==this.mapL.B&&this.createMapObjects("B"),null==this.mapL.C&&this.createMapObjects("C")),[4,5,6].includes(t)&&(null==this.mapL.B&&this.createMapObjects("B"),null==this.mapL.C&&this.createMapObjects("C"),null==this.mapL.D&&this.createMapObjects("D")),this.modeViz=t,this.template.querySelector("#set-mirror-"+t).classList.add("buttom-pressed"),this.map_.refresh(),null!==this.mapL.B&&this.mapL.B.refresh(),null!==this.mapL.C&&this.mapL.C.refresh(),null!==this.mapL.D&&this.mapL.D.refresh()}},{key:"createMapObjects",value:function(t){var e=null;switch(t){case"B":this.defaultBaseLyrs[1]&&(e=this.defaultBaseLyrs[0]);break;case"C":this.defaultBaseLyrs[2]&&(e=this.defaultBaseLyrs[1]);break;case"D":this.defaultBaseLyrs[3]&&(e=this.defaultBaseLyrs[2]);break;default:e=this.map_.getLayers()[0].setMap(this)}this.mapL[t]=M.map({container:"mapjs"+t,layers:e,center:this.map_.getCenter(),projection:this.map_.getProjection().code+"*"+this.map_.getProjection().units,zoom:this.map_.getZoom()}),this.mapL[t].getMapImpl().setView(this.map_.getMapImpl().getView()),this.showCursors&&this.addLayerCursor(t),this.mapL[t].refresh()}},{key:"addLayerCursor",value:function(t){var e=this;this.lyrCursor[t]=new M.layer.Vector({name:"Coordenadas centro "+t},{displayInLayerSwitcher:!1}),this.featureLyrCursor[t]=new M.Feature("Center"+t,{type:"Feature",properties:{},geometry:{type:"Point",coordinates:this.mapL[t].getCenter()}}),this.lyrCursor[t].addFeatures([this.featureLyrCursor[t]]),this.lyrCursor[t].setStyle(this.styleCursor),this.lyrCursor[t].setZIndex(5e3),this.mapL[t].addLayers(this.lyrCursor[t]),this.mapL[t].getMapImpl().on("pointermove",(function(o){e.lyrCursor[t].setVisible(!1),Object.keys(e.featureLyrCursor).forEach((function(r){e.mapL[r]&&e.mapL[r].getMapImpl().setView(e.mapL[t].getMapImpl().getView()),r!=t&&null!==e.featureLyrCursor[r]&&(e.lyrCursor[r].setVisible(!0),e.featureLyrCursor[r].setGeometry({type:"Point",coordinates:o.coordinate}))}))}))}},{key:"removeMaps",value:function(){this.mapL.B=null,this.mapL.C=null,this.mapL.D=null}},{key:"destroyMapsContainer",value:function(){document.getElementById("mapjsB").remove(),document.getElementById("mapjsC").remove(),document.getElementById("mapjsD").remove();var t=document.getElementById("lienzo"),e=document.getElementById("mapjs")||document.getElementById("map");e.style.display="block",e.classList.remove("mirror1"),document.body.insertBefore(e,t),document.getElementById("lienzo").remove()}},{key:"equals",value:function(t){return t instanceof i}}])&&g(e.prototype,o),r&&g(e,r),i}(),B=o(3);function j(t){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function O(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S(t,e){for(var o=0;o<e.length;o++){var r=e[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function P(t,e){return(P=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function E(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,r=R(t);if(e){var n=R(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return k(this,o)}}function k(t,e){return!e||"object"!==j(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function R(t){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var I=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&P(t,e)}(i,M.Plugin);var e,o,r,n=E(i);function i(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};O(this,i),(t=n.call(this)).name_="mirrorpanel",t.map_=null,t.controls_=[],t.className="m-plugin-mirrorpanel";var o=["TR","TL","BL","BR"];return t.position=o.includes(e.position)?e.position:"TR",t.collapsed=e.collapsed,void 0===t.collapsed&&(t.collapsed=!0),t.collapsible=e.collapsible,void 0===t.collapsible&&(t.collapsible=!0),t.modeViz=e.modeViz,void 0===t.modeViz&&(t.modeViz=0),t.enabledKeyFunctions=e.enabledKeyFunctions,void 0===t.enabledKeyFunctions&&(t.enabledKeyFunctions=!0),t.showCursors=e.showCursors,void 0===t.showCursors&&(t.showCursors=!0),t.mirrorLayers=[],void 0!==e.mirrorLayers&&(Array.isArray(e.mirrorLayers)?t.mirrorLayers=e.mirrorLayers:t.mirrorLayers=e.mirrorLayers.split(",")),t.defaultBaseLyrs=[],void 0!==e.defaultBaseLyrs&&(Array.isArray(e.defaultBaseLyrs)?t.defaultBaseLyrs=e.defaultBaseLyrs:t.defaultBaseLyrs=e.defaultBaseLyrs.split(",")),t.interface=void 0===e.interface||e.interface,t.tooltip_=e.tooltip||b("tooltip"),t.metadata_=B.metadata,t}return e=i,(o=[{key:"addTo",value:function(t){var e=this,o={pluginOnLeft:!!["TL","BL"].includes(this.position),collapsible:this.collapsible,collapsed:this.collapsed,modeViz:this.modeViz,showCursors:this.showCursors,mirrorLayers:this.mirrorLayers,defaultBaseLyrs:this.defaultBaseLyrs};this.control_=new _(o),this.controls_.push(this.control_),this.map_=t,this.panel_=new M.ui.Panel("panelMirrorpanel",{collapsible:this.collapsible,collapsed:this.collapsed,position:M.ui.position[this.position],modeViz:this.modeViz,showCursors:this.showCursors,className:this.interface?"m-plugin-panelMirrorpanel":"m-plugin-panelMirrorpanel hidden",collapsedButtonClass:"mirrorpanel-icon",tooltip:this.tooltip_}),this.panel_.addControls(this.controls_),t.addPanels(this.panel_),document.addEventListener("keydown",(function(t){if(e.enabledKeyFunctions){for(var o=0;o<10;o++)t.ctrlKey&&t.shiftKey&&t.key==="F"+(o+1)&&e.control_.manageVisionPanelByCSSGrid(o);var r=["Control","Shift","Alt","Meta"].includes(t.key)?"":t.key;"Escape"==(t.ctrlKey?"Control ":"")+(t.shiftKey?"Shift ":"")+(t.altKey?"Alt ":"")+(t.metaKey?"Meta ":"")+r&&e.control_.manageVisionPanelByCSSGrid(0)}}))}},{key:"destroy",value:function(){document.removeEventListener("keydown",(function(t){})),this.control_.removeMaps(),this.control_.destroyMapsContainer(),this.map_.removeControls([this.control_]);var t=[null,null,null,null,null,null,null,null,null,null,null];this.control_=t[0],this.panel_=t[1],this.map_=t[2],this.collapsible=t[3],this.collapsed=t[4],this.modeViz=t[5],this.enabledKeyFunctions=t[6],this.showCursors=t[7],this.mirrorLayers=t[8],this.defaultBaseLyrs=t[9],this.interface=t[10]}},{key:"getMetadata",value:function(){return this.metadata_}},{key:"getAPIRest",value:function(){return"".concat(this.name,"=").concat(this.position,"*!").concat(this.collapsed,"*!").concat(this.collapsible,"*!").concat(this.modeViz,"*!").concat(this.enabledKeyFunctions,"*!").concat(this.showCursors,"*!").concat(this.mirrorLayers,"*!").concat(this.defaultBaseLyrs,"*!").concat(this.interface)}},{key:"activate",value:function(){this.control_.activate()}},{key:"deactivate",value:function(){this.control_.deactivate()}},{key:"name",get:function(){return this.name_}}])&&S(e.prototype,o),r&&S(e,r),i}();window.M.plugin||(window.M.plugin={}),window.M.control||(window.M.control={}),window.M.impl||(window.M.impl={}),window.M.impl.control||(window.M.impl.control={}),window.M.plugin.Mirrorpanel=I,window.M.control.MirrorpanelControl=_,window.M.impl.control.MirrorpanelControl=p}]);
//# sourceMappingURL=mirrorpanel.ol.min.js.map